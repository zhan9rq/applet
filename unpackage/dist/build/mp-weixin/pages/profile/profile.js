(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/profile/profile"],{"210e":function(t,e,n){"use strict";(function(t){n("3029"),n("921b");r(n("66fd"));var e=r(n("e97d"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("543d")["createPage"])},"51d6":function(t,e,n){},5344:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return r}));var r={rfBadge:function(){return n.e("components/rf-badge/rf-badge").then(n.bind(null,"2f68"))}},i=function(){var t=this,e=t.$createElement,n=(t._self._c,t._f("filterMemberLevel")(t.userInfo.memberLevel)),r=t.hasLogin&&t.footPrintList.length>0?t.__map(t.footPrintList,(function(e,n){var r=t.__get_orig(e),i=e.marketing_type?t._f("marketingTypeTag")(e.marketing_type):null;return{$orig:r,f1:i}})):null,i=t.__map(t.settingList,(function(e,n){var r=t.__get_orig(e),i=t.settingItemShowFilter(e.title);return{$orig:r,m0:i}}));t.$mp.data=Object.assign({},{$root:{f0:n,l0:r,l1:i}})},o=[]},ac32:function(t,e,n){"use strict";var r=n("51d6"),i=n.n(r);i.a},e1d0:function(t,e,n){"use strict";n.r(e);var r=n("f974"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,(function(){return r[t]}))}(o);e["default"]=i.a},e97d:function(t,e,n){"use strict";n.r(e);var r=n("5344"),i=n("e1d0");for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n("ac32");var a,s=n("f0c5"),u=Object(s["a"])(i["default"],r["b"],r["c"],!1,null,"3bda8683",null,!1,r["a"],a);e["default"]=u.exports},f974:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=s(n("a34a")),i=n("6f0d"),o=n("2f62"),a=s(n("c159"));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){l(o,r,i,a,s,"next",t)}function s(t){l(o,r,i,a,s,"throw",t)}a(void 0)}))}}var h=function(){n.e("components/rf-list-cell/index").then(function(){return resolve(n("fe12"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/rf-badge/rf-badge").then(function(){return resolve(n("2f68"))}.bind(null,n)).catch(n.oe)},g=0,p=0,v=!0,b={components:{listCell:h,rfBadge:m},data:function(){return{settingList:this.$mConstDataConfig.settingList,orderSectionList:this.$mConstDataConfig.orderSectionList,amountList:this.$mConstDataConfig.amountList,isOpenLiveStreaming:this.$mSettingConfig.isOpenLiveStreaming,headImg:this.$mAssetsPath.headImg,vipCardBg:this.$mAssetsPath.vipCardBg,arc:this.$mAssetsPath.arc,userBg:this.$mAssetsPath.userBg,coverTransform:"translateY(0px)",coverTransition:"0s",moving:!1,userInfo:{promoter:null},footPrintList:[],loading:!0,appName:this.$mSettingConfig.appName,hasLogin:!1}},filters:{filterMemberLevel:function(t){return t?t.name:"普通用户"},marketingTypeTag:function(t){var e;switch(t){case"discount":e=a.default.discountTag;break;case"bargain":e=a.default.bargainTag;break;case"group_buy":e=a.default.groupTag;break;case"wholesale":e=a.default.wholesaleTag;break}return e}},computed:{settingItemShowFilter:function(){return function(t){var e="block";return"推广中心"===t&&this.userInfo.promoter?e="none":"直播"!==t||this.isOpenLiveStreaming||(e="none"),e}}},onShareAppMessage:function(){return{title:"欢迎来到".concat(this.appName),path:"/pages/index/index"}},onShow:function(){var t=this;return d(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initData();case 2:case"end":return e.stop()}}),e)})))()},methods:c(c(c({},(0,o.mapMutations)(["setNotifyNum","setCartNum"])),{},{share:function(){"".concat(this.$mConfig.hostUrl,"/pages/index/index")}},(0,o.mapMutations)(["login"])),{},{initData:function(){var e=this;return d(r.default.mark((function n(){return r.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.hasLogin=e.$mStore.getters.hasLogin,t.setTabBarStyle({selectedColor:e.themeColor.color,borderStyle:"white"}),e.themeColor.tabList&&e.themeColor.tabList.forEach((function(e,n){t.setTabBarItem({index:n,selectedIconPath:e})})),!e.hasLogin){n.next=8;break}return n.next=6,e.getMemberInfo();case 6:n.next=10;break;case 8:e.loading=!1,e.resetSectionData();case 10:case"end":return n.stop()}}),n)})))()},getMemberInfo:function(){var t=this;return d(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(i.memberInfo).then(function(){var e=d(r.default.mark((function e(n){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!1,t.userInfo=n.data,e.next=4,t.setCartNum(n.data.cart_num);case 4:return e.next=6,t.initNotifyNum();case 6:return e.next=8,t.getFootPrintList();case 8:return e.next=10,t.setSectionData(n.data);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(){t.hasLogin=!1,t.userInfo={},t.resetSectionData(),t.loading=!1}));case 2:case"end":return e.stop()}}),e)})))()},initNotifyNum:function(){var t=this;return d(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get(i.notifyUnRreadCount).then((function(e){t.setNotifyNum(e.data.count)}));case 2:case"end":return e.stop()}}),e)})))()},resetSectionData:function(){this.userInfo={},t.removeTabBarBadge({index:this.$mConstDataConfig.cartIndex}),t.removeTabBarBadge({index:this.$mConstDataConfig.notifyIndex}),this.amountList[0].value=0,this.amountList[1].value=0,this.amountList[2].value=0,this.orderSectionList[0].num=0,this.orderSectionList[1].num=0,this.orderSectionList[2].num=0,this.orderSectionList[3].num=0,this.orderSectionList[4].num=0},setSectionData:function(e){var n=[];for(var r in e.order_synthesize_num)n.push(e.order_synthesize_num[r]);for(var i=0;i<this.orderSectionList.length;i++)this.orderSectionList[i].num=n[i].toString();this.amountList[0].value=e.account.user_money||0,this.amountList[1].value=e.coupon_num||0,this.amountList[2].value=e.account.user_integral||0,t.setStorageSync("userInfo",e)},getFootPrintList:function(){var t=this;return d(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http.get("".concat(i.footPrintList)).then((function(e){t.footPrintList=e.data}));case 2:case"end":return e.stop()}}),e)})))()},navTo:function(e){e&&("/pages/index/notice/notice"===e||this.hasLogin?this.$mRouter.push({route:e}):(t.removeStorageSync("backToPage"),this.$mRouter.push({route:"/pages/public/logintype"})))},coverTouchstart:function(t){!1!==v&&(this.coverTransition="transform .1s linear",g=t.touches[0].clientY)},coverTouchmove:function(t){p=t.touches[0].clientY;var e=p-g;e<0?this.moving=!1:(this.moving=!0,e>=80&&e<100&&(e=80),e>0&&e<=80&&(this.coverTransform="translateY(".concat(e,"px)")))},coverTouchend:function(){!1!==this.moving&&(this.moving=!1,this.coverTransition="transform 0.3s cubic-bezier(.21,1.93,.53,.64)",this.coverTransform="translateY(0px)")},navToProduct:function(t,e){var n="/pages/product/product?id=".concat(e);switch(t){case"discount":n="/pages/marketing/discount/product?id=".concat(e);break;case"bargain":n="/pages/marketing/bargain/product?id=".concat(e);break;case"group_buy":n="/pages/marketing/group/product?id=".concat(e);break;case"wholesale":n="/pages/marketing/wholesale/product?id=".concat(e);break}this.$mRouter.push({route:n})}})};e.default=b}).call(this,n("543d")["default"])}},[["210e","common/runtime","common/vendor"]]]);