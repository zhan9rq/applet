(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/rf-attr-content/index"],{"1d3f":function(t,e,n){"use strict";var r=n("c2cd"),i=n.n(r);i.a},"487b":function(t,e,n){"use strict";n.r(e);var r=n("95be"),i=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e["default"]=i.a},"6ddc":function(t,e,n){"use strict";n.r(e);var r=n("a694"),i=n("487b");for(var c in i)"default"!==c&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("1d3f");var s,u=n("f0c5"),o=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,"28b188a3",null,!1,r["a"],s);e["default"]=o.exports},"95be":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=i(n("a34a"));function i(t){return t&&t.__esModule?t:{default:t}}function c(t){return a(t)||o(t)||u(t)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t,e){if(t){if("string"===typeof t)return p(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(t,e):void 0}}function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function a(t){if(Array.isArray(t))return p(t)}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d(t,e,n,r,i,c,s){try{var u=t[c](s),o=u.value}catch(a){return void n(a)}u.done?e(o):Promise.resolve(o).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var c=t.apply(e,n);function s(t){d(c,r,i,s,u,"next",t)}function u(t){d(c,r,i,s,u,"throw",t)}s(void 0)}))}}var f=function(){n.e("components/rf-number-box/index").then(function(){return resolve(n("c5b8"))}.bind(null,n)).catch(n.oe)},h={name:"rfAttrContent",components:{rfNumberBox:f},props:{showBuyBtn:{type:Boolean,default:!1},isSelectedNum:{type:Boolean,default:!0},type:{type:String,default:"buy_now"},product:{type:Object,default:function(){return{}}},minNum:{type:Number,default:1},maxNum:{type:Number,default:0}},data:function(){return{styleObject:null,specList:[],specChildList:[],skuId:this.product&&this.product.sku_id,price:null,stock:null,cartCount:parseInt(this.product.min_buy,10)||this.minNum||1,picture:null,specSelected:[],vipPrice:this.$mAssetsPath.vipPrice,moneySymbol:this.moneySymbol,skuName:null}},computed:{currentDiscountPrice:function(){var t=this.product.marketing.decimal_reservation_number,e=this.product.marketing.discount,n=this.price;switch(parseInt(t,10)){case-1:return(n*e/100).toFixed(2);case 0:return(n*e/100).toFixed(0);case 1:return(n*e/100).toFixed(1);default:return(n*e/100).toFixed(2)}},currentProductPrice:function(){var t=this.price;return"discount"===this.type&&(t=this.currentSkuPrice||this.currentDiscountPrice),"group_buy"===this.type&&(t=this.currentSkuPrice||this.product.marketing.ladder.price),this.product.memberDiscount&&0!==this.product.memberDiscount.length&&(t*=1-this.product.memberDiscount.discount/100),parseFloat(t||"0").toFixed(2)}},mounted:function(){var t=this;return l(r.default.mark((function e(){return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.initData();case 2:case"end":return e.stop()}}),e)})))()},methods:{initData:function(){var t=this;this.specList=this.product.base_attribute_format,this.specList.forEach((function(e){t.specChildList=[].concat(c(t.specChildList),c(e.value))})),this.product.sku_name&&this.specChildList.forEach((function(e){-1!==t.product.sku_name.indexOf(e.title)&&(e.selected=!0,t.specSelected.push(e))}));var e=[];this.specSelected.forEach((function(t){e.push(t.base_spec_value_id)})),this.product.sku.forEach((function(n){n.data===e.join("-")&&(t.stock=n.stock,"buy_now"===t.type?t.price=n.price:t.price="wholesale"===t.product.marketing_type?n.wholesale_price:n.price,t.skuName=n.name,t.skuId=n.id)}))},numberChange:function(t){this.cartCount=parseInt(t.number,10)},selectSpec:function(t,e,n){var r=this,i=this.specChildList;i.forEach((function(t){t.base_spec_id===e&&r.$set(t,"selected",!1)})),3===parseInt(n,10)&&(this.picture=i[t].data),2===parseInt(n,10)&&(this.styleObject={color:i[t].data,border:"1px solid ".concat(i[t].data)}),this.$set(i[t],"selected",!0),this.specSelected=[],i.forEach((function(t){!0===t.selected&&r.specSelected.push(t)}));var c=[];this.specSelected.forEach((function(t){c.push(t.base_spec_value_id)})),this.product.sku.forEach((function(t){t.data===c.join("-")&&(r.picture=t.picture,r.stock=t.stock,r.price="wholesale"===r.product.marketing_type?t.wholesale_price:t.price,r.skuId=t.id,r.skuName=t.name)}))},toggleSpec:function(t){this.skuId?this.stock<1?this.$mHelper.toast("库存不足"):this.$emit("toggle",{stock:this.stock,skuId:this.skuId,cartCount:this.cartCount,skuName:this.skuName||this.singleSkuText,price:this.price,type:t}):this.$mHelper.toast("请选择规格")}}};e.default=h},a694:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}));var i=function(){var t=this,e=t.$createElement,n=(t._self._c,t.__map(t.specList,(function(e,n){var r=t.__get_orig(e),i=t.__map(t.specChildList,(function(n,r){var i=t.__get_orig(n),c=n.base_spec_id===e.base_spec_id?parseInt(e.show_type):null,s=n.base_spec_id===e.base_spec_id?parseInt(e.show_type):null,u=n.base_spec_id===e.base_spec_id?parseInt(e.show_type):null,o=n.base_spec_id===e.base_spec_id?parseInt(e.show_type):null;return{$orig:i,m0:c,m1:s,m2:u,m3:o}}));return{$orig:r,l0:i}}))),r=t.isSelectedNum?parseInt(t.product.min_buy,10):null,i=t.isSelectedNum?parseInt(t.product.max_buy,10):null,c=t.isSelectedNum&&0===t.maxNum?parseInt(t.stock||t.product.stock,10):null;t.$mp.data=Object.assign({},{$root:{l1:n,m4:r,m5:i,m6:c}})},c=[]},c2cd:function(t,e,n){}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/rf-attr-content/index-create-component',
    {
        'components/rf-attr-content/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("6ddc"))
        })
    },
    [['components/rf-attr-content/index-create-component']]
]);
